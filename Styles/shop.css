/* ---------------------------------- */
/* Shop – Parallax Background         */
/* Desktop: 2 Bilder (eins gespiegelt) */
/* Tablet: 2 Bilder senkrecht, voll   */
/* Mobile: 1 Bild senkrecht, voll     */
/* ---------------------------------- */

/* Wichtig: Shop-Parallax nur im Shop scopen */
.parallax-shop{
  position: relative;
  overflow: hidden;

  --parallax-image: url("../images/backgrounds/BG_Tinte_3.png");
  --parallax-strength: 150;
}

/* JS bewegt dieses Element per transform (translateY) */
.parallax-shop .parallax-bg{
  position: absolute;
  inset: 0;
  z-index: 0;
  pointer-events: none;

  will-change: transform;
  transform: translate3d(0,0,0);

  /* verhindert den zusätzlichen Layer aus root.css */
  background-image: none;
  opacity: 1;
}

/* Bild liegt in ::before -> Rotation/Skalierung kollidiert nicht mit JS */
.parallax-shop .parallax-bg::before{
  content: "";
  position: absolute;
  inset: 0;

  background-image: var(--parallax-image, none);
  background-repeat: no-repeat;
  background-position: var(--parallax-pos, left center);
  background-size: var(--parallax-bg-size, auto 120vh);

  opacity: var(--parallax-opacity, 0.18);

  transform: var(--parallax-transform, none);
  transform-origin: center;

  filter: saturate(0.95) contrast(1.05);
}

/* Content über dem BG */
.parallax-shop > *:not(.parallax-bg){
  position: relative;
  z-index: 1;
}

/* ---------------------------------- */
/* Shop: konkrete Settings (Desktop)   */
/* ---------------------------------- */

/* linke Seite */
.parallax-shop .parallax-bg--left{
  --parallax-pos: center center;
  --parallax-bg-size: auto 160vh;
  --parallax-opacity: 1;
  --parallax-transform: none;
}

/* rechte Seite (gespiegelt) */
.parallax-shop .parallax-bg--right{
  --parallax-pos: center center;
  --parallax-bg-size: auto 100vh;
  --parallax-opacity: 0.6;
  --parallax-transform: scaleX(-1);
}

/* ---------------------------------- */
/* Tablet: 2 Bilder, senkrecht + voll  */
/* ---------------------------------- */
@media (max-width: 1024px){
  .parallax-shop{
    --parallax-strength: 35;
  }

  /* Nach Rotation braucht es mehr Fläche -> größerer ::before Canvas */
  .parallax-shop .parallax-bg--left::before,
  .parallax-shop .parallax-bg--right::before{
    inset: -300%;
  }

  .parallax-shop .parallax-bg--left{
    --parallax-transform: rotate(90deg) translateZ(0);
    --parallax-opacity: 1;
    --parallax-bg-size: auto 100vh;
  }

  .parallax-shop .parallax-bg--right{
    --parallax-transform: rotate(90deg) scaleX(-1) translateZ(0);
    --parallax-opacity: 0.6;
    --parallax-bg-size: auto 100vh;
  }
}

/* ---------------------------------- */
/* Mobile: 1 Bild (rechts), senkrecht  */
/* ---------------------------------- */
@media (max-width: 640px){
  .parallax-shop{
    --parallax-strength: 22;
  }

  .parallax-shop .parallax-bg--left{
    display: none;
  }

  .parallax-shop .parallax-bg--right::before{
    inset: -500%;
  }

  .parallax-shop .parallax-bg--right{
    --parallax-opacity: 0.7;
    --parallax-pos: center center;
    --parallax-transform: rotate(90deg) scaleX(1) translateZ(0);
    --parallax-bg-size: auto 165vh;
  }
}
